/* Theme-enabled CSS (light + dark). Dark is default via data-theme set in <head> JS. */

:root {
    /* Brand colors (shared) */
    --primary-color: #007bff;
    --success-color: #28a745;
    --warning-color: #ffc107;
    --danger-color: #dc3545;
    --info-color: #17a2b8;

    /* Light theme defaults */
    --app-bg: #f5f5f5;
    --app-text: #333333;
    --muted-color: #6c757d;

    --surface: #ffffff;
    --surface-muted: #f8f9fa;
    --border-color: #dee2e6;

    --box-shadow: 0 2px 10px rgba(0,0,0,0.08);
    --box-shadow-hover: 0 8px 25px rgba(0,0,0,0.15);

    --transition: all 0.3s ease;
    --border-radius: 8px;
    --border-radius-sm: 4px;
}

[data-theme="dark"] {
    --app-bg: #0f1115;
    --app-text: #e6e6e6;
    --muted-color: #9aa0a6;

    --surface: #171a21;
    --surface-muted: #14171d;
    --border-color: #2d323b;

    --box-shadow: 0 2px 10px rgba(0,0,0,0.5);
    --box-shadow-hover: 0 10px 30px rgba(0,0,0,0.6);
}

/* Global reset */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: var(--app-bg);
    color: var(--app-text);
    line-height: 1.6;
}

/* Cards */
.card {
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    transition: var(--transition);
    background: var(--surface);
}
.card:hover { box-shadow: var(--box-shadow-hover); transform: translateY(-2px); }
.card-body { padding: 1.5rem; }

/* Buttons */
.btn { border-radius: var(--border-radius-sm); font-weight: 500; padding: 0.5rem 1rem; transition: var(--transition); border: none; cursor: pointer; }
.btn:hover { transform: translateY(-1px); box-shadow: 0 2px 8px rgba(0,0,0,0.15); }
.btn-primary { background: linear-gradient(135deg, var(--primary-color) 0%, #0056b3 100%); color: #fff; }
.btn-success { background: linear-gradient(135deg, var(--success-color) 0%, #1e7e34 100%); color: #fff; }
.btn-warning { background: linear-gradient(135deg, var(--warning-color) 0%, #e0a800 100%); color: #212529; }
.btn-danger  { background: linear-gradient(135deg, var(--danger-color) 0%, #c82333 100%); color: #fff; }
.btn-outline-secondary { border: 1px solid var(--border-color); color: var(--muted-color); background: transparent; }
.btn-outline-secondary:hover { background-color: var(--muted-color); border-color: var(--muted-color); color: white; }

/* Poster containers */
.card-img-top-wrapper { position: relative; height: 280px; overflow: hidden; border-radius: 0.375rem 0.375rem 0 0; background-color: var(--surface-muted); }
.jellyfin-poster-large { width: 100%; height: 100%; object-fit: contain; object-position: center; transition: transform 0.3s ease; background-color: var(--surface-muted); }
.jellyfin-poster-placeholder-large { width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; background-color: var(--surface-muted); color: var(--muted-color); font-size: 2rem; border: 2px dashed var(--border-color); }
.jellyfin-poster-placeholder-large small { font-size: 0.75rem; margin-top: 0.5rem; }

/* Type badge */
.item-type-overlay { position: absolute; top: 0.5rem; right: 0.5rem; z-index: 10; }
.item-type-badge-movie  { background-color: rgba(25, 118, 210, 0.9); color: white; }
.item-type-badge-series { background-color: rgba(123, 31, 162, 0.9); color: white; }

/* Card hover effects */
.item-card { transition: all 0.3s ease; border: 1px solid var(--border-color); background: var(--surface); }
.item-card:hover { transform: translateY(-5px); box-shadow: var(--box-shadow-hover); border-color: var(--primary-color); }
.item-card:hover .jellyfin-poster-large { transform: scale(1.02); }
.item-card.selected { border: 2px solid var(--success-color); box-shadow: 0 0 15px rgba(40, 167, 69, 0.3); }

/* Hide/Show by filter */
.item-card-wrapper.hidden { display: none !important; }

/* Selected counter */
#selectedCount { font-weight: 600; color: var(--primary-color); }

/* Modals */
.modal-dialog { max-width: 1200px; }
.modal-content { background-color: var(--surface); color: var(--app-text); border: 1px solid var(--border-color); }
.modal-header, .modal-footer { border-color: var(--border-color); }
.modal-body { max-height: 70vh; overflow-y: auto; }

/* Poster modal grid */
.poster-container { position: relative; height: 280px; background-color: var(--surface-muted); border-radius: var(--border-radius-sm); overflow: hidden; display: flex; align-items: center; justify-content: center; border: 2px solid var(--border-color); }
.poster-loading { position: absolute; inset: 0; background-color: var(--surface-muted); z-index: 2; display: flex !important; align-items: center; justify-content: center; color: var(--muted-color); }
.poster-image { height: 280px; width: 100%; object-fit: cover; transition: transform 0.3s ease; position: relative; z-index: 3; border-radius: var(--border-radius-sm); }
.poster-card { cursor: pointer; transition: var(--transition); border: 2px solid transparent; position: relative; height: 100%; background: var(--surface); }
.poster-card:hover { transform: translateY(-5px); box-shadow: var(--box-shadow-hover); border-color: var(--primary-color); }
.poster-card:hover .poster-image { transform: scale(1.03); }
.poster-card.selected { border: 3px solid var(--success-color); box-shadow: 0 0 20px rgba(40, 167, 69, 0.3); }

/* Dropdown menu */
.dropdown-menu { z-index: 1060; background: var(--surface); color: var(--app-text); border: 1px solid var(--border-color); }
.dropdown-item { color: var(--app-text); }
.dropdown-item:hover, .dropdown-item:focus { background: var(--surface-muted); color: var(--app-text); }

/* Alerts */
.alert { border: none; border-radius: var(--border-radius); padding: 1rem 1.5rem; margin-bottom: 1rem; border-left: 4px solid; }
.alert-success { background-color: #d4edda; color: #155724; border-left-color: var(--success-color); }
.alert-danger  { background-color: #f8d7da; color: #721c24; border-left-color: var(--danger-color); }
.alert-warning { background-color: #fff3cd; color: #856404; border-left-color: var(--warning-color); }
.alert-info    { background-color: #d1ecf1; color: #0c5460; border-left-color: var(--info-color); }

[data-theme="dark"] .alert-success { background-color: rgba(40,167,69,0.2); color: #c9f7d9; }
[data-theme="dark"] .alert-danger  { background-color: rgba(220,53,69,0.18); color: #ffc9cf; }
[data-theme="dark"] .alert-warning { background-color: rgba(255,193,7,0.2); color: #ffe8a6; }
[data-theme="dark"] .alert-info    { background-color: rgba(23,162,184,0.2); color: #a6ecf6; }

/* Badges used in statuses */
.badge { font-weight: 500; border-radius: 12px; padding: 0.3rem 0.6rem; }
.status-selected { background-color: rgba(40, 167, 69, 0.12); color: #9be7b0; }
.status-uploaded { background-color: rgba(30, 126, 52, 0.12); color: #a5e2b0; }
.status-error    { background-color: rgba(220, 53, 69, 0.12); color: #ffb3ba; }
[data-theme="light"] .status-selected { background-color: #e7f5ee; color: #13795b; }
[data-theme="light"] .status-uploaded { background-color: #e6f4ea; color: #1e7e34; }
[data-theme="light"] .status-error    { background-color: #fdecea; color: #b02a37; }

/* Tables in results modal */
.results-table { color: var(--app-text); }
.results-table thead th { border-bottom: 1px solid var(--border-color); }
.results-table tbody td { border-top: 1px solid var(--border-color); }

/* Scrollbar for modal */
.modal-body::-webkit-scrollbar { width: 8px; }
.modal-body::-webkit-scrollbar-track { background: var(--surface-muted); border-radius: 4px; }
.modal-body::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
.modal-body::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }
[data-theme="dark"] .modal-body::-webkit-scrollbar-thumb { background: #596273; }
[data-theme="dark"] .modal-body::-webkit-scrollbar-thumb:hover { background: #6b768a; }

/* Responsive */
@media (max-width: 575px) {
    .card-img-top-wrapper { height: 240px; }
}
@media (max-width: 1199px) and (min-width: 992px) {
    .poster-container, .poster-image { height: 250px; }
}
@media (max-width: 991px) and (min-width: 768px) {
    .poster-container, .poster-image { height: 220px; }
}
@media (max-width: 767px) {
    .poster-container, .poster-image { height: 200px; }
    .modal-dialog { max-width: 95%; margin: 1rem auto; }
}
